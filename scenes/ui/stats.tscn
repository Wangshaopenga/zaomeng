[gd_scene load_steps=9 format=3 uid="uid://caol1ruvc0du5"]

[ext_resource type="Texture2D" uid="uid://dlh3lokliwi46" path="res://assets/HeroPicture/RoleProperiesBox/408.png" id="1_fkesc"]
[ext_resource type="FontFile" uid="uid://2rjpff4w8bmb" path="res://assets/Font/华康海报体W12 &amp; 华康海报体W12(P).ttc" id="2_8ee8s"]
[ext_resource type="Texture2D" uid="uid://cby6a6k8con1t" path="res://assets/HeroPicture/RoleProperiesBox/swk.png" id="3_rcuot"]
[ext_resource type="Texture2D" uid="uid://dauwh87x7fyo3" path="res://assets/HeroPicture/RoleProperiesBox/739.png" id="4_ditwv"]
[ext_resource type="Texture2D" uid="uid://oxravxb5lw2s" path="res://assets/HeroPicture/RoleProperiesBox/345.png" id="5_jso5u"]
[ext_resource type="Texture2D" uid="uid://brt2fqd0govpx" path="res://assets/HeroPicture/RoleProperiesBox/742.png" id="6_rrrff"]
[ext_resource type="Texture2D" uid="uid://d1u3mka385hqt" path="res://assets/HeroPicture/RoleProperiesBox/748.png" id="7_sl10k"]

[sub_resource type="GDScript" id="GDScript_fkesc"]
script/source = "extends Control

@export var stats: RoleStats

@onready var hp_bar: TextureProgressBar = $Bar/HP
@onready var mp_bar: TextureProgressBar = $Bar/MP
@onready var exp_bar: TextureProgressBar = $Bar/EXP


func _ready() -> void:
	pass
	#stats.hp_change.connect(update_hp)
	#stats.mp_change.connect(update_mp)
	#update_hp()
	#update_mp()


func update_hp() -> void:
	var percentage := stats.hp / float(stats.max_hp)
	hp_bar.value = percentage
func update_mp() -> void:
	var percentage := stats.mp / float(stats.max_mp)
	mp_bar.value = percentage
"

[node name="Stats" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_fkesc")

[node name="Bg" type="TextureRect" parent="."]
custom_minimum_size = Vector2(228, 88)
layout_mode = 0
offset_right = 228.0
offset_bottom = 88.0
texture = ExtResource("1_fkesc")

[node name="Avatar" type="TextureRect" parent="."]
layout_mode = 0
offset_left = 9.0
offset_top = 1.0
offset_right = 92.0
offset_bottom = 77.0
texture = ExtResource("3_rcuot")

[node name="Bar" type="Control" parent="."]
layout_mode = 1
anchor_left = 0.089
anchor_top = 0.019
anchor_right = 0.243
anchor_bottom = 0.115
offset_left = 1.34
offset_top = 4.79
offset_right = 0.579987
offset_bottom = -7.85
grow_horizontal = 2
grow_vertical = 2

[node name="HP" type="TextureProgressBar" parent="Bar"]
layout_mode = 2
offset_left = -2.0
offset_top = -2.0
offset_right = 142.0
offset_bottom = 10.0
max_value = 1.0
step = 0.0
value = 1.0
texture_progress = ExtResource("5_jso5u")

[node name="Hp" type="Label" parent="Bar/HP"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.351
anchor_top = -0.167
anchor_right = 0.604
anchor_bottom = 1.083
offset_left = 0.455997
offset_top = 0.00400019
offset_right = 0.0239944
offset_bottom = 0.00399971
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("2_8ee8s")
theme_override_font_sizes/font_size = 14
text = "61/80"

[node name="Regen" type="Label" parent="Bar/HP"]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.351
anchor_top = -0.167
anchor_right = 0.604
anchor_bottom = 1.083
offset_left = 54.456
offset_top = 0.00400019
offset_right = 54.024
offset_bottom = 0.00399971
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("2_8ee8s")
theme_override_font_sizes/font_size = 14
text = "12/s"

[node name="MP" type="TextureProgressBar" parent="Bar"]
layout_mode = 2
offset_left = -2.0
offset_top = 18.0
offset_right = 142.0
offset_bottom = 30.0
size_flags_horizontal = 0
max_value = 1.0
step = 0.0
value = 1.0
texture_progress = ExtResource("4_ditwv")

[node name="Mp" type="Label" parent="Bar/MP"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.354
anchor_top = -0.167
anchor_right = 0.604
anchor_bottom = 0.65
offset_left = 0.0239983
offset_top = 1.34
offset_right = 0.0239944
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("2_8ee8s")
theme_override_font_sizes/font_size = 14
text = "61/80"

[node name="Regen" type="Label" parent="Bar/MP"]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.351
anchor_top = -0.167
anchor_right = 0.604
anchor_bottom = 1.083
offset_left = 53.456
offset_top = -0.996
offset_right = 73.348
offset_bottom = -0.996
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("2_8ee8s")
theme_override_font_sizes/font_size = 14
text = "12/s"

[node name="EXP" type="TextureProgressBar" parent="Bar"]
layout_mode = 2
offset_left = -2.0
offset_top = 37.0
offset_right = 142.0
offset_bottom = 49.0
max_value = 1.0
step = 0.0
value = 1.0
texture_progress = ExtResource("6_rrrff")

[node name="Exp" type="Label" parent="Bar/EXP"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.354
anchor_top = -0.167
anchor_right = 0.611
anchor_bottom = 1.167
offset_left = 0.0239983
offset_top = 0.00400019
offset_right = 0.0159988
offset_bottom = -0.00400066
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("2_8ee8s")
theme_override_font_sizes/font_size = 14
text = "61/80"

[node name="Info" type="TextureRect" parent="."]
layout_mode = 0
offset_left = 83.0
offset_top = 17.0
offset_right = 100.0
offset_bottom = 63.0
texture = ExtResource("7_sl10k")

[node name="Level" type="Label" parent="."]
layout_mode = 0
offset_left = -1.0
offset_top = 50.0
offset_right = 39.0
offset_bottom = 90.0
theme_override_fonts/font = ExtResource("2_8ee8s")
theme_override_font_sizes/font_size = 16
text = "22"
horizontal_alignment = 1
vertical_alignment = 1
